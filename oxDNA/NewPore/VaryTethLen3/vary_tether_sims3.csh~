#!/bin/sh
pwd


set oxPath = ~/Documents/DNAnano/oxDNA/

set lval    = $argv[1]

cd $oxPath/NewPore/VaryTethLen3/


switch ($lval) 
    case 1: 
	set x = 10
	breaksw
    case 2: 
	set x = 25
	breaksw
    case 3: 
	set x = 40
	breaksw
    case 4: 
	set x = 55
	breaksw
    case 5: 
	set x = 70
	breaksw
    case 6: 
	set x = 85
	breaksw	
    case 7: 
	set x = 100
	breaksw	
    case 8: 
	set x = 115
	breaksw		
endsw


#run sims
#foreach l ( $x ) 
foreach l ( 10 25 40 55 70 85 100 115)
    mkdir len$l
    python3 $oxPath/NewPore/Scripts/changeTether.py pore.json $l 6 7 9 8
    mv pore*$l*.json len$l
    cd len$l
    
    mkdir ogSeq
    cp pore*$l*.json ogSeq    
    cd ogSeq    
    

    #generate sequences
    @ P = (242 - $l)    
    python3 $oxPath/MyScripts/generateSeqFile.py pore*$l*.json $oxPath/NewPore/VaryTethLen3/p7249.txt $P
        
    #json to oxDNA
    python2.7 $oxPath/UTILS/cadnano_interface.py *.json he 100
    
    cd ..
    mkdir shiftSeq700
    cp pore*$l*.json shiftSeq700    
    cd shiftSeq700
    
    #generate sequences
    @ P = (942 - $l)    
    python3 $oxPath/MyScripts/generateSeqFile.py pore*$l*.json $oxPath/NewPore/VaryTethLen3/p7249.txt $P
        
    #json to oxDNA
    python2.7 $oxPath/UTILS/cadnano_interface.py *.json he 100    


    cd ..
    mkdir tethAllT
    cp pore*$l*.json tethAllT    
    cd tethAllT
    
    #generate sequences
    @ P = (242 - $l)    
    python3 $oxPath/MyScripts/generateSeqFile.py pore*$l*.json $oxPath/NewPore/VaryTethLen3/p7249.txt $P
    python3 $oxPath/MyScripts/rowSqsSameNt.py caca.sqs pore*$l*.json T 6 7 8 9    
        
    #json to oxDNA
    python2.7 $oxPath/UTILS/cadnano_interface.py *.json he 100    

    
    #echo 'Initialising pore'
    #source $oxPath/NewPore/Scripts/init_pore.csh     
    cd ../..
end
    
